<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>VLife • Château</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>
<body>
  <!-- Top UI -->
  <header class="ui">
    <img id="vlifeLogo" alt="VLife" src="assets/Vlifelogo_1_.png" />
    <button id="helpBtn">?</button>
  </header>

  <!-- Minimap (now mini + collapsible + non-blocking) -->
  <div id="minimap" class="collapsed">
    <canvas id="mapCanvas" width="200" height="200"></canvas>
    <div class="label">Minimap</div>
    <button id="mapToggle" title="Toggle map size">⤢</button>
  </div>

  <!-- Mobile walk button -->
  <button id="walkBtn" aria-label="Walk forward">Walk</button>

  <!-- Scene -->
  <a-scene id="scene" renderer="antialias:true; colorManagement:true; physicallyCorrectLights:true"
           background="color: #0b0c11">
    <a-assets>
      <img id="forestPoster" src="assets/Forrest360.jpg" crossorigin="anonymous" />
      <canvas id="fallbackPoster" width="64" height="36"></canvas>
    </a-assets>

    <a-entity id="rig" position="0 1.6 0">
      <a-entity id="cam" camera look-controls wasd-controls="acceleration: 20">
        <a-entity id="cursor" cursor="fuse:true; fuseTimeout:900"
                  position="0 0 -1" geometry="primitive:ring; radiusInner:0.01; radiusOuter:0.016"
                  material="color:#ffffff; shader:flat; opacity:0.9"></a-entity>
      </a-entity>
    </a-entity>

    <a-entity id="env"></a-entity>
  </a-scene>

  <script src="script.js"></script>
</body>
</html>