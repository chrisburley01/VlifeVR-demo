<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vlife – Hybrid VR Experience</title>
<link rel="icon" href="assets/Vlifelogo_1_.png" />
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://unpkg.com/aframe-event-set-component@5.0.1/dist/aframe-event-set-component.min.js"></script>
<style>
:root {--gold:#ffd700;--text:#e7e7ea;}
body{margin:0;background:#000;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
.gate{position:fixed;inset:0;display:grid;place-items:center;
background:radial-gradient(1200px 600px at 50% 100%,rgba(255,215,0,.06),rgba(0,0,0,.92));z-index:10;}
.gate-inner{max-width:720px;margin:0 16px;background:rgba(12,12,18,.72);padding:22px;
border:1px solid rgba(255,255,255,.15);border-radius:16px;text-align:center;color:var(--text);
box-shadow:0 16px 72px rgba(0,0,0,.6);}
.btn-primary{background:linear-gradient(180deg,#ffe58a,#e7c138);color:#2b2500;border:none;
border-radius:12px;padding:10px 18px;font-weight:600;cursor:pointer;}
.btn-primary:hover{filter:brightness(1.15);}
.topright{position:fixed;right:16px;top:12px;display:flex;align-items:center;gap:10px;z-index:9;}
.brandimg{width:32px;height:32px;object-fit:contain;border-radius:8px;background:#000;
box-shadow:0 0 0 1px rgba(255,255,255,.25) inset;}
.brand{color:var(--gold);font-weight:800;letter-spacing:.6px;text-shadow:0 0 12px rgba(255,215,0,.4);}
.badge{position:fixed;top:12px;left:12px;color:#bdbdc7;font-size:12px;background:rgba(0,0,0,.45);
padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.1);z-index:9;}
</style>
</head>
<body>
<div class="topright"><img class="brandimg" src="assets/Vlifelogo_1_.png"><div class="brand">VLIFE</div></div>
<div class="badge">Hybrid VR MVP · 360° Links</div>

<div class="gate" id="gate">
 <div class="gate-inner">
   <img class="gate-logo" src="assets/Vlifelogo_1_.png" alt="logo" />
   <h1>Enter Vlife</h1>
   <p>Immersive 360° exploration.<br>Desktop, mobile & Meta Quest compatible.</p>
   <button class="btn-primary" id="enterBtn" type="button">Enter Experience</button>
   <p style="margin-top:10px;font-size:12px;opacity:.8;">Look around and click gold orbs to open 360° sites.</p>
 </div>
</div>

<a-scene renderer="alpha:true antialias:true" background="color:#000">
 <a-entity id="rig">
   <a-entity id="camera" camera look-controls wasd-controls-enabled="false" position="0 1.6 0"
     cursor="fuse:true; fuseTimeout:900" raycaster="objects: .clickable; far:100; interval:0">
     <a-entity position="0 0 -1" geometry="primitive:ring; radiusInner:0.01; radiusOuter:0.015"
       material="shader:flat; opacity:0.9"></a-entity>
     <a-entity id="skinsToggle" position="-0.75 -0.15 -0.85" class="clickable" visible="false">
       <a-entity geometry="primitive:sphere; radius:0.12"
         material="color:#ffd700; metalness:0.6; roughness:0.25; emissive:#7a5a00; emissiveIntensity:0.25; opacity:0.98"></a-entity>
       <a-entity position="0 0.28 0" text="value:Skins; align:center; width:1.4; color:#ffd700; side:double" billboard-label></a-entity>
     </a-entity>
   </a-entity>
   <a-entity laser-controls="hand: right"></a-entity>
   <a-entity laser-controls="hand: left"></a-entity>
 </a-entity>

 <a-entity id="photoScene">
   <a-sky id="sky" color="#0b0d13"></a-sky>
   <a-entity id="skinPanel" position="0 1.55 -2.5" visible="false">
     <a-entity geometry="primitive:plane; width:1.8; height:1.02" material="color:#10131a; opacity:0.95"></a-entity>
     <a-entity position="0 0.44 0.01" text="value:Choose Background; align:center; width:2.6; color:#ffd700"></a-entity>
     <a-entity id="skinStatus" position="0 0.32 0.01" text="value:; align:center; width:2.2; color:#cfd3dc"></a-entity>
     <a-entity id="btn0" position="-0.55 0.10 0.02"></a-entity>
     <a-entity id="btn1" position="0 0.10 0.02"></a-entity>
     <a-entity id="btn2" position="0.55 0.10 0.02"></a-entity>
     <a-entity id="btn3" position="-0.55 -0.30 0.02"></a-entity>
     <a-entity id="btn4" position="0 -0.30 0.02"></a-entity>
     <a-entity id="btn5" position="0.55 -0.30 0.02"></a-entity>
   </a-entity>
   <a-entity id="orbRing"></a-entity>
 </a-entity>

 <a-entity id="keyLight" light="type:point; intensity:0.9; distance:14" position="0 3 0"></a-entity>
 <a-entity id="ambLight" light="type:ambient; intensity:0.45; color:#ffffff"></a-entity>
</a-scene>

<script>
AFRAME.registerComponent('billboard-label',{init(){this.cam=document.querySelector('#camera');this.tmp=new THREE.Vector3();this.q=new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0,1,0),Math.PI);},
tick(){if(!this.cam)return;const o=this.el.object3D,c=this.cam.object3D.getWorldPosition(this.tmp);o.lookAt(c);o.quaternion.multiplyQuaternions(o.quaternion,this.q);o.rotation.x=o.rotation.z=0;}});
const $=s=>document.querySelector(s);
const gate=$('#gate'),sky=$('#sky'),amb=$('#ambLight'),key=$('#keyLight'),panel=$('#skinPanel'),toggle=$('#skinsToggle'),ring=$('#orbRing'),status=$('#skinStatus');
const links=[
 {title:'360Cities',url:'https://www.360cities.net/'},
 {title:'YouTube VR Channel',url:'https://m.youtube.com/channel/UCzuqhhs6NWbgTzMuM09WKDQ'},
 {title:'YouTube 360 Playlist',url:'https://www.youtube.com/playlist?list=PLU8wpH_LfhmtcxKMb1s46HUz8AVnLiY3O'},
 {title:'Vimeo 360',url:'https://vimeo.com/channels/360videos'},
 {title:'Meta Quest TV',url:'https://www.meta.com/quest/tv/'},
 {title:'AirPano',url:'https://www.airpano.com/'}];

function makeOrb(title,url){
 const g=document.createElement('a-entity');
 const core=document.createElement('a-entity');
 core.classList.add('clickable');
 core.setAttribute('geometry','primitive:sphere; radius:0.28');
 core.setAttribute('material','color:#d4af37; metalness:0.85; roughness:0.15; emissive:#6a5200; emissiveIntensity:0.3');
 core.setAttribute('animation__spin','property=rotation; to:0 360 0; dur:14000; easing:linear; loop:true');
 core.setAttribute('animation__pulse','property=scale; dir=alternate; dur:1600; from:1 1 1; to:1.08 1.08 1.08; loop:true');

 // label
 const label=document.createElement('a-entity');
 label.setAttribute('position','0 0.55 0.01');
 label.setAttribute('billboard-label','');
 label.setAttribute('text',`value:${title}; align:center; width:3.2; color:#ffd700; side:double`);
 g.appendChild(core);g.appendChild(label);

 // universal open (hidden <a> click)
 const open=()=>{const a=document.createElement('a');a.href=url;a.target='_blank';a.rel='noopener';a.style.display='none';document.body.appendChild(a);a.click();a.remove();};
 ['click','pointerup','mouseup','touchend'].forEach(ev=>{core.addEventListener(ev,open,{passive:true});g.addEventListener(ev,open,{passive:true});});
 return g;
}

function buildOrbRing(containerId,items,r=4,y=1.25){
 const ring=document.getElementById(containerId);ring.innerHTML='';
 const n=items.length,FRONT_GAP_DEG=80,HALF=Math.PI*FRONT_GAP_DEG/360,ROT=THREE.MathUtils.degToRad(8);
 const span=(Math.PI*2)-(HALF*2);
 for(let i=0;i<n;i++){
   const t=HALF+(i+0.5)*(span/n)+ROT;
   const x=Math.cos(t)*r,z=-Math.sin(t)*r,yaw=(Math.atan2(-x,-z)*180/Math.PI);
   const g=makeOrb(items[i].title,items[i].url);
   g.setAttribute('position',`${x} ${y} ${z}`);g.setAttribute('rotation',`0 ${yaw} 0`);
   ring.appendChild(g);
 }
}

document.getElementById('enterBtn').addEventListener('click',()=>{gate.style.display='none';buildOrbRing('orbRing',links);toggle.setAttribute('visible',true);});
</script>
</body>
</html>